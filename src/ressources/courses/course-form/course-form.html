<template>
  <mdc-card>
    <div>
      <!-- Programs -->
      <div class="form-section">
        <div mdc-headline6>Programs concerned</div>
        <div repeat.for="program of course.programs">
          <!-- Program Name -->
          <div>
            <mdc-text-field
              class="full-width"
              label="Program"
              type="text"
              value.bind="program.name"
              style="width: 100%"
            ></mdc-text-field>
          </div>
          <!-- Program Description -->
          <div>
            <mdc-text-field
              textarea
              ref="Description"
              label="Description"
              value.bind="program.description"
              rows="2"
              cols="40"
              required.bind="required"
              maxlength="256"
              style="width: 100%; padding: 0px"
            ></mdc-text-field>
          </div>
          <div>
            <button mdc-button raised click.trigger="removeProgram(program)">
              Remove Program
            </button>
          </div>
        </div>

        <!-- Add Existing or New Program -->
        <div>
          <div>
            <mdc-select
              label="Add Existing Program"
              value.bind="selectedProgram"
              hoist-to-body
            >
              <mdc-list>
                <mdc-list-item
                  repeat.for="program of allPrograms"
                  value.bind="program"
                  >${program.name}</mdc-list-item
                >
              </mdc-list>
            </mdc-select>
          </div>
          <div>
            <button mdc-button raised click.trigger="addExistingProgram()">
              Add Selected Program
            </button>
          </div>
          <div>
            <button mdc-button raised click.trigger="addProgram()">
              Add New Program
            </button>
          </div>
        </div>
      </div>

      <mdc-list-divider></mdc-list-divider>

      <!-- Schedules -->
      <div class="form-section">
        <div mdc-headline6>Schedules</div>
        <div repeat.for="schedule of course.schedules">
          <div mdc-subtitle1>Schedule</div>
          <div>
            <mdc-text-field
              type="time"
              label="Start"
              value.bind="schedule.start_time"
              style="width: 75px"
            ></mdc-text-field>
            <mdc-text-field
              type="time"
              label="End"
              value.bind="schedule.end_time"
              style="width: 75px"
            ></mdc-text-field>
          </div>
          <div>
            <mdc-select
              ref="select"
              label="Day"
              value.bind="schedule.day"
              hoist-to-body
            >
              <mdc-list>
                <mdc-list-item repeat.for="day of days" value.bind="day"
                  >${day}</mdc-list-item
                >
              </mdc-list>
            </mdc-select>
          </div>
          <div>
            <mdc-select
              ref="select"
              label="Classroom"
              value.bind="schedule.classroom.name"
              hoist-to-body
            >
              <mdc-list>
                <mdc-list-item
                  repeat.for="classroom of classroomsList"
                  value.bind="classroom"
                  >${classroom.name} (${classroom.capacity})</mdc-list-item
                >
              </mdc-list>
            </mdc-select>
          </div>
          <div>
            <button mdc-button raised click.trigger="removeSchedule(schedule)">
              Remove Schedule
            </button>
          </div>
          <div>
            <button mdc-button raised click.trigger="addSchedule()">
              Add Schedule
            </button>
          </div>
        </div>
      </div>

      <mdc-list-divider></mdc-list-divider>

      <!-- Actions -->
      <div>
        <mdc-card-actions class="mdc-card-actions">
          <div class="mdc-card-action-buttons">
            <button mdc-button raised click.trigger="saveCourse()">Save</button>
            <button mdc-button raised click.trigger="cancel()">Cancel</button>
          </div>
        </mdc-card-actions>
      </div>
    </div>
  </mdc-card>
</template>
